<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.8.0.final using JasperReports Library version 6.8.0-2ed8dfabb690ff337a5797129f2cd92902b0c87b  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="graficas" language="groovy" pageWidth="2000" pageHeight="792" columnWidth="1960" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isIgnorePagination="true" uuid="d9f8d711-1c3d-4189-8410-abb09572c1a2">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Jesuitas"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="Metas_Tabla" uuid="029fe1a2-81fc-4679-b3e0-bd2dc4312e58">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Jesuitas"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="190"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="810"/>
		<parameter name="cicloactualid" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="nivelid" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="gradoid" class="java.lang.String"/>
		<parameter name="ciclodestinoid" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT
            n.nombre AS nivelgrado,
            (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId
              GROUP BY g2.NivelId) AS meta,
          
             (SELECT COUNT(DISTINCT a2.AlumnoId) FROM ce_alumnoporciclo ac2 
              INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
               INNER JOIN grado g ON ac2.GradoId = g.GradoId

              INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN ac2.GradoId = 19 THEN 1 when ac2.gradoid = 18 then 0 else ac2.gradoid + 1 END)
              WHERE ac2.CicloId = actu.Cicloid AND g2.Nivelid = n.nivelid AND ac2.EstatusAlumnoCicloId in (1,2) AND if(g2.NivelId = 4, g2.gradoid in (13,14,15,16), true)  AND a2.AlumnoEstatusId = 1
              GROUP BY g2.NivelId
              ) AS alumnosactuales,
          
              (  (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId
              GROUP BY g2.NivelId) - (SELECT COUNT(DISTINCT a2.AlumnoId) FROM ce_alumnoporciclo ac2 
              INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
               INNER JOIN grado g ON ac2.GradoId = g.GradoId

              INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN ac2.GradoId = 19 THEN 1 when ac2.gradoid = 18 then 0 else ac2.gradoid + 1 END)
              WHERE ac2.CicloId = actu.Cicloid AND g2.Nivelid = n.nivelid AND ac2.EstatusAlumnoCicloId in (1,2) AND if(g2.NivelId = 4, g2.gradoid in (13,14,15,16), true) AND a2.AlumnoEstatusId = 1
              GROUP BY g2.NivelId
              )) AS lugaresfaltantes,
          
            (SELECT CASE WHEN s2.EstatusSolicitudId IS NOT NULL THEN SUM(CASE WHEN s2.EstatusSolicitudId IN(3,4,5,6,8) THEN 1 ELSE 0 end) ELSE '0' END
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.NivelId
              GROUP BY g4.NivelId) AS inscritosexamen,
          
              (SELECT SUM(CASE WHEN s2.EstatusSolicitudId IN(5,6,8) THEN 1 ELSE 0 end) 
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.NivelId
              GROUP BY g4.NivelId) AS aceptados,
          
              (SELECT SUM(CASE WHEN s2.EstatusSolicitudId = 8 THEN 1 ELSE 0 end) 
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.NivelId
              GROUP BY g4.NivelId) AS completadas,
          
              (SELECT COUNT(*) FROM 
              (
                 SELECT cd.DocumentoPorPagarId,cd.CicloId, g.NivelId FROM cj_documentoporpagar cd 
                  INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                  INNER JOIN grado g ON g.GradoId = cd.GradoId
				  INNER JOIN ce_alumnoporciclo ac
                      ON ac.AlumnoId = cd.AlumnoId and ac.EstatusAlumnoCicloId in (1) and ac.CicloId = cd.CicloId
                  WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.AlumnoId IS NOT null
                  GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
                  HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
              ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.NivelId) AS nuevoingreso,
          
              (SELECT COUNT(*) FROM ce_alumnoporciclo ac2 
                INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
                INNER JOIN grado g2 ON g2.GradoId = ac2.GradoId
                WHERE ac2.CicloId = next.cicloid AND g2.NivelId = n.NivelId AND ac2.IntencionReinscribirseId = 1
              ) AS intencionreinscribirse,
          
              (SELECT COUNT(z.AlumnoId) FROM 
              (
                SELECT aa.AlumnoId, dp2.CicloId, dp2.NivelId FROM ce_alumno aa
                INNER JOIN (SELECT COUNT(dp.alumnoid) AS numero_colegiaturas,
                    dp.alumnoid, SUM(dp.Saldo) AS adeudo_vencido_colegiaturas,
                  dp.CicloId, g2.NivelId
                  FROM cj_documentoporpagar dp
                    INNER JOIN cj_documento d
                      ON d.documentoid = dp.documentoid
                    INNER JOIN cj_tipodocumento td
                      ON td.tipodocumentoid = d.tipodocumento
                    INNER JOIN grado g2
                      ON g2.GradoId = (CASE WHEN dp.GradoId = 19 THEN 1 when dp.gradoid = 18 then 0 else dp.gradoid + 1 END)
                      AND td.tipodocumentoid = 2
                  WHERE dp.FechaLimitePago < NOW()
                  AND dp.saldo > 0
                  AND dp.alumnoid IS NOT NULL
                  GROUP BY dp.alumnoid) AS dp2
                  ON dp2.alumnoid = aa.alumnoid
                  AND dp2.numero_colegiaturas >= (SELECT p.Valor FROM parametros p WHERE p.Nombre = 'NumeroAdeudoColegiatura')
              )z WHERE z.CicloId = actu.CicloId AND z.NivelId = n.NivelId) AS colegiaturasvencidas,
          
                (SELECT COUNT(*) FROM 
                  (
                    SELECT cd.DocumentoPorPagarId,cd.CicloId, g.NivelId FROM cj_documentoporpagar cd 
                      INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId                      
                      INNER JOIN ( SELECT * FROM ce_alumnoporciclo WHERE EstatusAlumnoCicloId = 2 AND cicloid = $P{ciclodestinoid} GROUP BY  AlumnoId ) AS ac ON ac.AlumnoId = cd.AlumnoId
					  INNER JOIN grado g ON g.GradoId = ac.GradoId
                      WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.AlumnoId IS NOT NULL
                      GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
                      HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
                  ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.NivelId) AS reinscripciones,
          
                (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, g2.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                INNER JOIN grado g ON g.GradoId = cd.GradoId
                 INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN cd.GradoId = 19 THEN 1 when cd.gradoid = 18 then 0 else cd.gradoid + 1 END)
				INNER JOIN ce_alumnoporciclo ac 
                      ON ac.AlumnoId = cd.AlumnoId and ac.EstatusAlumnoCicloId in (1,2) and ac.CicloId = cd.CicloId
                left JOIN nivel n3 ON n3.NivelId = g.GradoId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.alumnoid is not null
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.NivelId) AS totalinscrito,
          
              (  (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId
              GROUP BY g2.NivelId) - (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, cd.GradoId, n2.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                INNER JOIN grado g ON g.GradoId = cd.GradoId
                INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN cd.GradoId = 19 THEN 1 when cd.gradoid = 18 then 0 else cd.gradoid + 1 END)
                INNER JOIN nivel n2 ON n2.NivelId = g2.NivelId
				INNER JOIN ce_alumnoporciclo ac 
                      ON ac.AlumnoId = cd.AlumnoId and ac.EstatusAlumnoCicloId in (1,2) and ac.CicloId = cd.CicloId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.alumnoid is not null
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.NivelId)) AS alumnosrestantes
          
            FROM ce_configuracionmetasinscripcion cmi
            LEFT JOIN grado g ON g.GradoId = cmi.GradoId
            LEFT JOIN nivel n ON n.NivelId = g.NivelId
            LEFT JOIN solicitudadmisionporciclo s1 ON s1.CicloId = $P{ciclodestinoid}
            LEFT JOIN solicitudadmision s ON s.SolicitudAdmisionId = s1.SolicitudAdmisionId
            LEFT JOIN grado gs ON gs.GradoId = s.GradoId AND gs.NivelId = n.NivelId
            JOIN ciclo next ON next.CicloId = $P{ciclodestinoid}
            JOIN ciclo actu ON actu.CicloId = $P{cicloactualid}
            WHERE cmi.CicloId = $P{ciclodestinoid}
            GROUP BY n.NivelId
            ORDER BY n.NivelId;]]>
		</queryString>
		<field name="nivelgrado" class="java.lang.String"/>
		<field name="meta" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="alumnosactuales" class="java.lang.Long"/>
		<field name="lugaresfaltantes" class="java.lang.Long"/>
		<field name="inscritosexamen" class="java.lang.String"/>
		<field name="aceptados" class="java.lang.String"/>
		<field name="completadas" class="java.lang.String"/>
		<field name="nuevoingreso" class="java.lang.String"/>
		<field name="intencionreinscribirse" class="java.lang.String"/>
		<field name="colegiaturasvencidas" class="java.lang.String"/>
		<field name="reinscripciones" class="java.lang.String"/>
		<field name="totalinscrito" class="java.lang.String"/>
		<field name="alumnosrestantes" class="java.lang.String"/>
		<variable name="mettotal" class="java.lang.Integer" resetType="Column" calculation="Sum">
			<variableExpression><![CDATA[$F{meta}]]></variableExpression>
			<initialValueExpression><![CDATA[0]]></initialValueExpression>
		</variable>
		<variable name="totalalumnostotales" class="java.lang.Integer" resetType="Column" calculation="Sum">
			<variableExpression><![CDATA[$F{alumnosactuales}]]></variableExpression>
		</variable>
		<variable name="totallugaresfaltantes" class="java.lang.Integer" resetType="Column" calculation="Sum">
			<variableExpression><![CDATA[$F{lugaresfaltantes}]]></variableExpression>
		</variable>
		<variable name="totalinscritosexamsn" class="java.lang.Integer" resetType="Column" calculation="Sum">
			<variableExpression><![CDATA[$F{inscritosexamen} == null?0:Integer.valueOf($F{inscritosexamen})]]></variableExpression>
		</variable>
		<variable name="totalaceptados" class="java.lang.Integer" resetType="Column" calculation="Sum">
			<variableExpression><![CDATA[$F{aceptados} == null?0:Integer.valueOf($F{aceptados})]]></variableExpression>
		</variable>
		<variable name="totalcompletadas" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{completadas} == null?0:Integer.valueOf($F{completadas})]]></variableExpression>
		</variable>
		<variable name="totalnuevoingreso" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{nuevoingreso}== null?0:Integer.valueOf($F{nuevoingreso})]]></variableExpression>
		</variable>
		<variable name="totalintencion" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{intencionreinscribirse} == null?0:Integer.valueOf($F{intencionreinscribirse})]]></variableExpression>
		</variable>
		<variable name="totalcolegiaturas" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{colegiaturasvencidas} == null?0:Integer.valueOf($F{colegiaturasvencidas})]]></variableExpression>
		</variable>
		<variable name="totalreinscripciones" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{reinscripciones} == null?0:Integer.valueOf($F{reinscripciones})]]></variableExpression>
		</variable>
		<variable name="ttotalinscritos" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{totalinscrito} == null?0:Integer.valueOf($F{totalinscrito})]]></variableExpression>
		</variable>
		<variable name="totalalurestantes" class="java.lang.Integer" calculation="Sum">
			<variableExpression><![CDATA[$F{alumnosrestantes} == null?0:Integer.valueOf($F{alumnosrestantes})]]></variableExpression>
		</variable>
		<variable name="tinscritos" class="java.lang.Float">
			<variableExpression><![CDATA[Integer.valueOf($F{nuevoingreso}) + Integer.valueOf($F{reinscripciones})]]></variableExpression>
		</variable>
		<variable name="talumnosrestantes" class="java.lang.Float">
			<variableExpression><![CDATA[$F{meta} - (Integer.valueOf($F{nuevoingreso}) + Integer.valueOf($F{reinscripciones}))]]></variableExpression>
		</variable>
	</subDataset>
	<subDataset name="Metas_Grafica" uuid="0f6fbc40-5316-40b6-bd05-18382eebefb6">
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
		<parameter name="cicloactualid" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="gradoid" class="java.lang.String">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<parameter name="nivelid" class="java.lang.String"/>
		<parameter name="ciclodestinoid" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT
  CONCAT_WS(' ',n.nombre) Grado,
    'Alumnos restantes' ide,
              (  (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId
              GROUP BY g2.NivelId) - (               (SELECT COUNT(*) FROM 
              (
                 SELECT cd.DocumentoPorPagarId,cd.CicloId, g.NivelId FROM cj_documentoporpagar cd 
                  INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                  INNER JOIN grado g ON g.GradoId = cd.GradoId
                  WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.SolicitudAdmisionId IS NOT NULL AND cd.AlumnoId IS NOT null
                  GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
                  HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
              ) z WHERE z.CicloId = cmi.CicloId AND z.NivelId = n.NivelId) + (SELECT COUNT(*) FROM 
                  (
                    SELECT cd.DocumentoPorPagarId,cd.CicloId, g2.NivelId FROM cj_documentoporpagar cd 
                      INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                      INNER JOIN grado g ON g.GradoId = cd.GradoId
                      INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN cd.GradoId = 19 THEN 1 when cd.gradoid = 18 then 0 else cd.gradoid + 1 END)
                      
                      WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.AlumnoId IS NOT NULL AND cd.SolicitudAdmisionId IS null
                      GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
                      HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
                  ) z WHERE z.CicloId = cmi.CicloId AND z.NivelId = n.NivelId)) ) AS num

  FROM ce_configuracionmetasinscripcion cmi
  LEFT JOIN grado g ON g.GradoId = cmi.GradoId
  LEFT JOIN nivel n ON n.NivelId = g.NivelId
  LEFT JOIN solicitudadmision s ON s.GradoId = cmi.GradoId
  JOIN ciclo actu ON actu.cicloid = $P{cicloactualid}
  WHERE cmi.CicloId = $P{ciclodestinoid} AND n.NivelId = $P{gradoid}
  GROUP BY g.NivelId
  UNION 
    SELECT
    CONCAT_WS(' ',n.nombre) Grado,
    'Nuevo ingreso' ide,
    (SELECT COUNT(*) FROM 
      (
         SELECT cd.DocumentoPorPagarId,cd.CicloId, g.NivelId FROM cj_documentoporpagar cd 
          INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
          INNER JOIN grado g ON g.GradoId = cd.GradoId
          WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.SolicitudAdmisionId IS NOT NULL AND cd.AlumnoId IS NOT null
          GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
          HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
      ) z WHERE z.CicloId = cmi.CicloId AND z.NivelId = n.NivelId)

      FROM ce_configuracionmetasinscripcion cmi
  LEFT JOIN grado g ON g.GradoId = cmi.GradoId
  LEFT JOIN nivel n ON n.NivelId = g.NivelId
  LEFT JOIN solicitudadmision s ON s.GradoId = cmi.GradoId
  JOIN ciclo actu ON actu.cicloid = $P{cicloactualid}
  WHERE cmi.CicloId = $P{ciclodestinoid} AND n.NivelId = $P{gradoid}
  GROUP BY g.NivelId
  UNION
    SELECT
    CONCAT_WS(' ',n.nombre) Grado,
    'Reinscritos' ide,
    (SELECT COUNT(*) FROM 
      (
        SELECT cd.DocumentoPorPagarId,cd.CicloId, g2.NivelId FROM cj_documentoporpagar cd 
          INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
          INNER JOIN grado g ON g.GradoId = cd.GradoId
          INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN cd.GradoId = 19 THEN 1 when cd.gradoid = 18 then 0 else cd.gradoid + 1 END)
          
          WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.AlumnoId IS NOT NULL AND cd.SolicitudAdmisionId IS null
          GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento
          HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
      ) z WHERE z.CicloId = cmi.CicloId AND z.NivelId = n.NivelId)

      FROM ce_configuracionmetasinscripcion cmi
      LEFT JOIN grado g ON g.GradoId = cmi.GradoId
      LEFT JOIN nivel n ON n.NivelId = g.NivelId
      LEFT JOIN solicitudadmision s ON s.GradoId = cmi.GradoId
      JOIN ciclo actu ON actu.cicloid = $P{cicloactualid}
      WHERE cmi.CicloId = $P{ciclodestinoid} AND n.NivelId = $P{gradoid}
      GROUP BY g.NivelId]]>
		</queryString>
		<field name="Grado" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="ide" class="java.lang.String"/>
		<field name="num" class="java.lang.Long"/>
	</subDataset>
	<subDataset name="Total_tabla" uuid="2969e0c0-e7bd-4930-a424-f465acfaec48">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Jesuitas"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w1" value="1000"/>
		<property name="com.jaspersoft.studio.property.dataset.dialog.DatasetDialog.sash.w2" value="0"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="0"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="1000"/>
		<parameter name="cicloactualid" class="java.lang.String"/>
		<parameter name="ciclodestinoid" class="java.lang.String"/>
		<parameter name="nivelid" class="java.lang.String"/>
		<parameter name="gradoid" class="java.lang.String"/>
		<queryString>
			<![CDATA[SELECT
            'TOTAL' AS total,
            (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, TRUE)
              GROUP BY g2.NivelId) AS totalmeta,
              
            (SELECT COUNT(*) FROM ce_alumnoporciclo ac2 
              INNER JOIN grado g2 ON g2.GradoId = ac2.GradoId
              INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
              WHERE ac2.CicloId = actu.CicloId AND g2.NivelId = n.nivelid AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, true) AND ac2.EstatusAlumnoCicloId in (1,2)
            ) AS totalalumnosactuales,
          
            ( (SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, true)
              GROUP BY g2.NivelId) - (SELECT COUNT(*) FROM ce_alumnoporciclo ac2 
              LEFT JOIN grado g2 ON g2.GradoId = ac2.GradoId
              INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
              WHERE ac2.CicloId = actu.CicloId AND g2.NivelId = n.nivelid AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, TRUE)  AND ac2.EstatusAlumnoCicloId in (1,2)
              GROUP BY g2.NivelId
            )) AS totallugaresfaltantes,  
              
            (SELECT SUM(CASE WHEN s2.EstatusSolicitudId = 3 OR s2.EstatusSolicitudId = 4 THEN 1 ELSE 0 end)
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.nivelid AND IF($P{gradoid} > 0, g4.GradoId = $P{gradoid}, TRUE)
              GROUP BY g4.NivelId
            ) AS totalinscritosexamen,

            (SELECT SUM(CASE WHEN s2.EstatusSolicitudId = 5 OR s2.EstatusSolicitudId = 6 THEN 1 ELSE 0 end)
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.nivelid AND IF($P{gradoid} > 0, g4.GradoId = $P{gradoid}, TRUE)
              GROUP BY g4.NivelId
            ) AS totalaceptados,

            (SELECT SUM(CASE WHEN s2.EstatusSolicitudId = 8 THEN 1 ELSE 0 end)
              FROM solicitudadmision s2 
              INNER JOIN solicitudadmisionporciclo s3 ON s3.SolicitudAdmisionId = s2.SolicitudAdmisionId AND s3.CicloId = $P{ciclodestinoid}
              INNER JOIN grado g4 ON g4.GradoId = s2.GradoId
              WHERE g4.NivelId = n.nivelid AND IF($P{gradoid} > 0, g4.GradoId = $P{gradoid}, TRUE)
              GROUP BY g4.NivelId
            ) AS totalcompletadas,
          
            (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, cd.GradoId, g.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                INNER JOIN grado g ON g.GradoId = cd.GradoId
				INNER JOIN ce_alumnoporciclo ac 
                      ON ac.AlumnoId = cd.AlumnoId and ac.EstatusAlumnoCicloId in (1) and ac.CicloId = cd.CicloId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1
                AND cd.AlumnoId IS NOT null
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento, cd.fechalimitepago
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.nivelid AND IF($P{gradoid} > 0, z.GradoId = $P{gradoid}, TRUE)) AS totalnuevoingreso,
          
            (SELECT COUNT(*) FROM ce_alumnoporciclo ac2 
              INNER JOIN ce_alumno a2 ON a2.AlumnoId = ac2.AlumnoId
              LEFT JOIN grado g2 ON g2.GradoId = ac2.GradoId
              WHERE ac2.CicloId = next.cicloid AND g2.NivelId = n.nivelid AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, TRUE) 
              AND ac2.IntencionReinscribirseId = 1
            ) AS totalintencionreinscribirse,
            
            (SELECT COUNT(z.AlumnoId) FROM 
            (
            SELECT aa.AlumnoId, dp2.CicloId, dp2.GradoId, dp2.NivelId FROM ce_alumno aa
            INNER JOIN (SELECT COUNT(dp.alumnoid) AS numero_colegiaturas,
                dp.alumnoid, SUM(dp.Saldo) AS adeudo_vencido_colegiaturas,
              dp.CicloId, dp.GradoId, g2.NivelId
              FROM cj_documentoporpagar dp
                INNER JOIN cj_documento d
                  ON d.documentoid = dp.documentoid
                INNER JOIN cj_tipodocumento td
                  ON td.tipodocumentoid = d.tipodocumento
                INNER JOIN grado g2
                  ON g2.GradoId = dp.GradoId
                  AND td.tipodocumentoid = 2
              WHERE dp.FechaLimitePago < NOW()
              AND dp.saldo > 0
              AND dp.alumnoid IS NOT NULL
              GROUP BY dp.alumnoid) AS dp2
              ON dp2.alumnoid = aa.alumnoid
              AND dp2.numero_colegiaturas >= (SELECT p.Valor FROM parametros p WHERE p.Nombre = 'NumeroAdeudoColegiatura')
            )z WHERE z.CicloId = actu.CicloId AND z.NivelId = n.nivelid AND IF($P{gradoid} > 0, z.GradoId = $P{gradoid}, TRUE)) AS totalcolegiaturasvencidas,
          
              (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, cd.GradoId, g.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
				INNER JOIN ( SELECT * FROM ce_alumnoporciclo WHERE EstatusAlumnoCicloId = 2 AND cicloid = $P{ciclodestinoid} GROUP BY  AlumnoId ) AS ac ON ac.AlumnoId = cd.AlumnoId
			    INNER JOIN grado g ON g.GradoId = ac.GradoId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 AND cd.AlumnoId IS NOT NULL
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento, cd.fechalimitepago
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.nivelid AND IF($P{gradoid} > 0, z.GradoId = $P{gradoid}, TRUE)) AS totalreinscripciones,
          
                (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, cd.GradoId, g.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                INNER JOIN grado g ON g.GradoId = cd.GradoId
				INNER JOIN grado g2 ON g2.GradoId = (CASE WHEN cd.GradoId = 19 THEN 1 when cd.gradoid = 18 then 0 else cd.gradoid + 1 END)
				INNER JOIN ce_alumnoporciclo ac 
                      ON ac.AlumnoId = cd.AlumnoId and ac.EstatusAlumnoCicloId in (1,2) and ac.CicloId = cd.CicloId
				left JOIN nivel n3 ON n3.NivelId = g.GradoId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1  AND cd.alumnoid is not null
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.nivelid) AS totalinscrito,        

            ((SELECT SUM(cmi2.meta) FROM ce_configuracionmetasinscripcion cmi2
              LEFT JOIN grado g2 ON g2.GradoId = cmi2.GradoId
              LEFT JOIN nivel n2 ON n2.NivelId = g2.NivelId
              WHERE cmi2.CicloId = cmi.CicloId AND g2.NivelId = g.NivelId AND IF($P{gradoid} > 0, g2.GradoId = $P{gradoid}, true)
              GROUP BY g2.NivelId) - (SELECT COUNT(*) FROM 
            (
              SELECT cd.DocumentoPorPagarId,cd.CicloId, cd.GradoId, g.NivelId FROM cj_documentoporpagar cd 
                INNER JOIN cj_documento doc ON doc.DocumentoId = cd.DocumentoId
                INNER JOIN grado g ON g.GradoId = cd.GradoId
                INNER JOIN nivel n ON n.NivelId = g.NivelId
                WHERE  cd.Documento REGEXP '....00.*' AND doc.TipoDocumento = 1 
                GROUP BY cd.alumnoid, cd.solicitudadmisionid, cd.cicloid, cd.documento, cd.fechalimitepago
                HAVING SUM(cd.Importe) <> SUM(cd.Saldo)
            ) z WHERE z.CicloId = next.CicloId AND z.NivelId = n.nivelid AND IF($P{gradoid} > 0, z.GradoId = $P{gradoid}, true))) AS totalalumnosrestantes
          
          

            FROM ce_configuracionmetasinscripcion cmi
            LEFT JOIN grado g ON g.GradoId = cmi.GradoId
            LEFT JOIN nivel n ON n.NivelId = g.NivelId
            LEFT JOIN solicitudadmision s ON s.GradoId = cmi.GradoId
            LEFT JOIN solicitudadmisionporciclo s1 ON s1.SolicitudAdmisionId = s.SolicitudAdmisionId AND s1.CicloId = $P{ciclodestinoid}
            JOIN ciclo next ON next.CicloId = $P{ciclodestinoid}
            JOIN ciclo actu ON actu.CicloId = $P{cicloactualid}
            WHERE g.NivelId = $P{nivelid} AND  cmi.CicloId = $P{ciclodestinoid} AND IF($P{gradoid} > 0, g.GradoId = $P{gradoid}, true)
            GROUP BY g.NivelId;]]>
		</queryString>
		<field name="total" class="java.lang.String"/>
		<field name="totalmeta" class="java.lang.String"/>
		<field name="totalalumnosactuales" class="java.lang.String"/>
		<field name="totallugaresfaltantes" class="java.lang.String"/>
		<field name="totalinscritosexamen" class="java.lang.String"/>
		<field name="totalaceptados" class="java.lang.String"/>
		<field name="totalcompletadas" class="java.lang.String"/>
		<field name="totalnuevoingreso" class="java.lang.String"/>
		<field name="totalintencionreinscribirse" class="java.lang.String"/>
		<field name="totalcolegiaturasvencidas" class="java.lang.String"/>
		<field name="totalreinscripciones" class="java.lang.String"/>
		<field name="totalinscrito" class="java.lang.String"/>
		<field name="totalalumnosrestantes" class="java.lang.String"/>
	</subDataset>
	<parameter name="cicloactualidp" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[4]]></defaultValueExpression>
	</parameter>
	<parameter name="nivelidp" class="java.lang.String">
		<defaultValueExpression><![CDATA[3]]></defaultValueExpression>
	</parameter>
	<parameter name="ciclodestinoidp" class="java.lang.String"/>
	<parameter name="gradoidp" class="java.lang.String"/>
	<parameter name="cicloactual" class="java.lang.String"/>
	<parameter name="ciclodestino" class="java.lang.String"/>
	<parameter name="logo" class="java.lang.String"/>
	<parameter name="nivel" class="java.lang.String"/>
	<parameter name="grado" class="java.lang.String"/>
	<queryString>
		<![CDATA[select n.nivelid as gradoid, Concat_ws(' ', n.nombre) grado
from nivel n]]>
	</queryString>
	<field name="gradoid" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="grado" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<variable name="Total_meta" class="java.lang.Integer" calculation="Sum"/>
	<title>
		<band height="177" splitType="Stretch">
			<image>
				<reportElement x="0" y="0" width="80" height="80" uuid="fd844033-d141-4df5-8f7b-a157e570f308"/>
				<imageExpression><![CDATA[$P{logo}]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="90" y="30" width="210" height="30" uuid="81b3f738-2c28-40db-8515-36578e3d3e92"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[ESCUELA CARLOS PEREYRA]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="80" width="380" height="30" uuid="1a504f55-7ea5-443e-ac83-725e3e97ae59"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Reporte de metas de inscripción]]></text>
			</staticText>
			<textField>
				<reportElement x="10" y="110" width="80" height="20" uuid="52459346-d05a-4b35-9907-58991694cf66"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{cicloactual}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="90" y="110" width="90" height="20" uuid="879a0c42-18e6-40a1-9294-e4d6f79156cd"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[$P{ciclodestino}]]></textFieldExpression>
			</textField>
			<textField pattern="MMM d, yyyy h:mm:ss ">
				<reportElement x="10" y="130" width="160" height="20" uuid="acf57e6c-a93e-4a6b-9731-24abe93b3fce"/>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="73" splitType="Stretch">
			<componentElement>
				<reportElement key="table" style="table" x="0" y="10" width="1960" height="60" uuid="8c37faf5-77a3-476b-82e8-b79f56b7097c"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="Metas_Tabla" uuid="2ee600db-8d4e-4208-ae35-0e80eba7181a">
						<datasetParameter name="nivelid">
							<datasetParameterExpression><![CDATA[$P{nivelidp}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cicloactualid">
							<datasetParameterExpression><![CDATA[$P{cicloactualidp}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="ciclodestinoid">
							<datasetParameterExpression><![CDATA[$P{ciclodestinoidp}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="gradoid">
							<datasetParameterExpression><![CDATA[$P{gradoidp}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="8f0ae7fc-a6a0-40a8-aa9e-35aa277f2d60">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:tableFooter height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="30" uuid="caf48bb5-b3b7-4b2c-bb2a-7bf1792a4877"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[TOTAL]]></text>
							</staticText>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="84cff773-7c00-4383-87c2-d375a7be4e11"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Grado]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="ce62b646-7c48-4790-9fb9-eef48f0faee6"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{nivelgrado}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="8dd1abd6-247a-407a-bfe0-db3dcd562158">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="90" height="30" uuid="8fa23c7a-44fc-4807-8fc5-64c9a38d319f"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{mettotal}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="78653c1a-0602-4c74-921d-86b09b21b89f"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Meta]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="91af2a7d-aa89-4843-8888-a3afa22a189b"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{meta}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="c46c36d7-a8a0-4f98-95f1-ff0a9044096b">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="90" height="30" uuid="b343d4a7-117e-421a-afd6-7affc51c754f"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalalumnostotales}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="cab530fe-e1ec-431e-9a01-dea93e172de3"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Actuales]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="a8f7429c-14bf-44d0-9eb8-35c7ff9469b9"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{alumnosactuales}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="130" uuid="5e7a213b-1670-4b1c-930a-ab8cc3ddfd9e">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="130" height="30" uuid="cfef8778-26d2-4c64-bb0a-64e538015040"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totallugaresfaltantes}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="130" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="0cae6801-b395-4af3-9692-01889472cbf9"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Número de lugares que faltan]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30" rowSpan="1">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="130" height="30" uuid="4e77fb4d-0fcc-464a-a500-c766ef30c0eb"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{lugaresfaltantes}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="d8cf4771-8656-437a-8108-dbf22df32330">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="90" height="30" uuid="b4484fd1-50d9-43a2-9114-8f6dc7e7c356"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalinscritosexamsn}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="3c5f5fe9-8df0-4f8e-81aa-7a6248ccb505"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Inscritos a examen]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="false">
								<reportElement key="" x="0" y="0" width="90" height="30" uuid="308853d6-e9fa-49f3-a3f2-cfb671a6a58b">
									<property name="com.jaspersoft.studio.element.name" value="0"/>
								</reportElement>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{inscritosexamen} == null?0:Integer.valueOf($F{inscritosexamen})]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="61e72d56-7852-4378-9fd4-5e0c44fa9529">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column6"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="90" height="30" uuid="6e54ad10-0d6e-4af1-bc0b-2987e9e9862e"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalaceptados}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="90" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="674f8138-8947-4459-9997-6b345ab3ff3d"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Aceptados]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="30" uuid="faef2cc9-c461-404c-aa4c-2a540bb23d9a"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{aceptados} == null?0:Integer.valueOf($F{aceptados})]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="110" uuid="182eb046-ce1d-455a-977c-f29bc728dd65">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column7"/>
						<jr:tableFooter height="30" rowSpan="1">
							<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
							<textField>
								<reportElement x="0" y="0" width="110" height="30" uuid="6278329f-1339-4d09-b095-d8da54a5cac6"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalcompletadas}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="110" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="244e52e9-61e4-48a0-b40e-85207a16cbe7"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Información complementaria]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="110" height="30" uuid="9446b7d3-2262-4ed1-b0c1-7c9840506e06"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{completadas} == null?0:Integer.valueOf($F{completadas})]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="100" uuid="616fc584-2108-4732-a946-7e7c9ea9a5a6">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column8"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="100" height="30" uuid="ecf4b1a5-9685-4118-b500-96081bc092e9"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalnuevoingreso}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="100" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="5fee7533-75ae-4863-9fba-efa7b16c1617"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Nuevos ingresos]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="100" height="30" uuid="3112459e-736f-4ba3-9b18-1f5fe6ee2131"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{nuevoingreso}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="110" uuid="1fad4d6b-72a6-462c-bd95-1fb5e34995aa">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column9"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="110" height="30" uuid="4a72f9ec-93ba-4aae-80a2-2f326e3c6fc6"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalintencion}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="110" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="6552b2c8-1077-4a64-873f-a3a0f83cfad0"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Intención a reinscribirse]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="110" height="30" uuid="40d63f26-7b01-44e6-bd06-d86c5b70199c"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{intencionreinscribirse}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="110" uuid="2c488235-9075-4a0d-9cb7-c6c0e4fc4301">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column10"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="110" height="30" uuid="f500e421-e3f8-4fb8-80b1-ba89101b9054"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalcolegiaturas}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="110" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="b9c5985d-c2be-4191-a132-58caa9d2dff7"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Alumnos deudores]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="110" height="30" uuid="f2a44936-aeff-416f-ba9b-635f0f8e874e"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{colegiaturasvencidas}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="100" uuid="786002e5-6c26-455f-91a0-86e97bd5cf92">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column11"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="100" height="30" uuid="d9518db4-1354-4d56-9397-cd833c76df56"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalreinscripciones}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="100" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="72c020b2-754d-40ac-a9d4-68c47efedef3"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Reinscripciones]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="100" height="30" uuid="0a91bb13-09c4-468d-b50a-0281597d6f5e"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$F{reinscripciones}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="150" uuid="84174fd1-9c5d-4b4b-8521-d6653f79fc25">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column12"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="150" height="30" uuid="07988f56-2291-4400-a11f-6f99bcefe039"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{ttotalinscritos}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="150" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="aed5c946-cf39-428e-b6bc-427f1ebdc203"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Total de inscritos al colegio]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="150" height="30" uuid="18bed879-5f38-4588-aa58-00f6182f358e"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$V{tinscritos}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="150" uuid="1aab9bec-5be6-4cd6-bf5d-22f44efc1a09">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column13"/>
						<jr:tableFooter height="30" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="150" height="30" uuid="e509b099-8413-42a7-9030-060798e3b613"/>
								<box>
									<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
									<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
								</box>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{totalalurestantes}]]></textFieldExpression>
							</textField>
						</jr:tableFooter>
						<jr:columnHeader style="table_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement mode="Opaque" x="0" y="0" width="150" height="30" forecolor="#FFFFFF" backcolor="#222222" uuid="04f44869-b4f2-44bb-90f8-f7a830b8797f"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font isBold="true"/>
								</textElement>
								<text><![CDATA[Alumnos restantes]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table_TD" height="30">
							<textField>
								<reportElement x="0" y="0" width="150" height="30" uuid="d814efde-05c8-43c7-b184-033ad83ee8d5"/>
								<textElement textAlignment="Center" verticalAlignment="Middle"/>
								<textFieldExpression><![CDATA[$V{talumnosrestantes}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="120"/>
	</columnHeader>
	<detail>
		<band height="194" splitType="Stretch">
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			<pieChart>
				<chart>
					<reportElement isPrintRepeatedValues="false" x="0" y="0" width="360" height="194" uuid="0e96d47a-a05e-4fc4-9360-fe5146a38816"/>
					<chartTitle>
						<titleExpression><![CDATA[$F{grado}]]></titleExpression>
					</chartTitle>
					<chartSubtitle/>
					<chartLegend/>
				</chart>
				<pieDataset>
					<dataset>
						<datasetRun subDataset="Metas_Grafica" uuid="a88fc5ac-fbf3-4292-96a3-a5e95d514e2a">
							<datasetParameter name="cicloactualid">
								<datasetParameterExpression><![CDATA[$P{cicloactualidp}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="ciclodestinoid">
								<datasetParameterExpression><![CDATA[$P{ciclodestinoidp}]]></datasetParameterExpression>
							</datasetParameter>
							<datasetParameter name="gradoid">
								<datasetParameterExpression><![CDATA[$F{gradoid}]]></datasetParameterExpression>
							</datasetParameter>
							<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
						</datasetRun>
					</dataset>
					<keyExpression><![CDATA[$F{ide}]]></keyExpression>
					<valueExpression><![CDATA[$F{num}]]></valueExpression>
					<labelExpression><![CDATA[$F{num}.toString()]]></labelExpression>
				</pieDataset>
				<piePlot>
					<plot>
						<seriesColor seriesOrder="0" color="#2B8DC2"/>
						<seriesColor seriesOrder="1" color="#F38F00"/>
						<seriesColor seriesOrder="2" color="#93999C"/>
					</plot>
					<itemLabel/>
				</piePlot>
			</pieChart>
		</band>
	</detail>
</jasperReport>
